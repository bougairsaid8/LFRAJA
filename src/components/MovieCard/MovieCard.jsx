import React from "react";
import "./MovieCard.css";

export default function MovieCard({
  title,
  year,
  rating,
  imageUrl,
  genre,
  views,
  genres,
}) {
  const getGenreNames = () => {
    
    return genre 
      .map((id) => genres.find((g) => g.id === id)?.name.split(" & ")[0])
      .filter(Boolean) 
      .filter(item => item.length<10)
      .slice(0, 2)
      .join(" | ");
  };

  return (
    <div className="movieCard">
      <div className="moviePoster">
        <img src={imageUrl} alt={`${title} Poster`} />
        <button className="playButton">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            height="30"
            width="30"
            style={{ transform: 'translateX(2px)' }} 
          >
            <path d="M7 6v12l10-6z" />
          </svg>
        </button>
      </div>
      <div className="movieInfo">
        <h3>{title}</h3>
        <div className="movieYrar_genre">
          <p className="movieYear">{year}</p>
          <p className="movieGenre">{getGenreNames()}</p>
        </div>
        <div className="movieRating_views">
          <span className="rating">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 14 14"
              id="Star-1--Streamline-Core"
            >
              <desc>Star 1 Streamline Icon: https://streamlinehq.com</desc>
              <g id="star-1--reward-rating-rate-social-star-media-favorite-like-stars">
                <path
                  id="Union"
                  fill="currentColor"
                  fillRule="evenodd"
                  d="M7 0.276855c-0.19843 0 -0.39272 0.056768 -0.55993 0.163603 -0.16508 0.10547 -0.29697 0.255388 -0.38055 0.432443L4.47196 4.07799c-0.00312 0.0063 -0.00611 0.01266 -0.00896 0.01909 -0.00071 0.00159 -0.00183 0.00298 -0.00324 0.00401 -0.00141 0.00103 -0.00306 0.00168 -0.0048 0.00187 -0.00609 0.00067 -0.01217 0.00146 -0.01823 0.00236l-3.495581 0.51786c-0.193204 0.01879 -0.377444 0.09129 -0.531759 0.20949 -0.159672 0.12231 -0.280454 0.28829 -0.3477142 0.47784 -0.06726016 0.18955 -0.0781133 0.39454 -0.0312442 0.59014 0.0466876 0.19483 0.1486564 0.37202 0.2936224 0.51027L2.88283 8.87974l-0.00004 0.00005 0.00587 0.00548c0.00365 0.00342 0.0064 0.00769 0.00798 0.01244 0.00158 0.00474 0.00195 0.00981 0.00107 0.01473l-0.00056 0.00327 -0.60974 3.56839 -0.00015 0.0009c-0.0335 0.1934 -0.01214 0.3923 0.06167 0.5741 0.07391 0.1822 0.19747 0.3399 0.3566 0.4553 0.15914 0.1153 0.34746 0.1837 0.54354 0.1973 0.19569 0.0136 0.39127 -0.0279 0.56457 -0.1197l0.00006 -0.0001 0.00099 -0.0005 3.14948 -1.6645c0.01129 -0.0049 0.0235 -0.0075 0.03585 -0.0075s0.02455 0.0026 0.03585 0.0075l3.14943 1.6645 0.0006 0.0003c0.1734 0.0921 0.3692 0.1337 0.565 0.12 0.1961 -0.0136 0.3844 -0.082 0.5436 -0.1973 0.1591 -0.1154 0.2827 -0.2731 0.3566 -0.4553 0.0738 -0.1818 0.0951 -0.3806 0.0617 -0.5739l-0.0002 -0.0011 -0.6097 -3.5684 -0.0006 -0.00326c-0.0009 -0.00492 -0.0005 -0.00999 0.0011 -0.01473 0.0015 -0.00474 0.0043 -0.00902 0.0079 -0.01244l0.0001 0.00005 0.0058 -0.00558 2.5588 -2.46885c0.1449 -0.13825 0.2469 -0.31542 0.2936 -0.51024 0.0468 -0.1956 0.036 -0.40059 -0.0313 -0.59014 -0.0672 -0.18955 -0.188 -0.35553 -0.3477 -0.47784 -0.1543 -0.1182 -0.3385 -0.1907 -0.5317 -0.20949l-3.49562 -0.51786c-0.00606 -0.0009 -0.01214 -0.00169 -0.01823 -0.00236 -0.00174 -0.00019 -0.0034 -0.00084 -0.00481 -0.00187 -0.00141 -0.00103 -0.00252 -0.00242 -0.00323 -0.00401 -0.00285 -0.00643 -0.00584 -0.01279 -0.00896 -0.01909L7.94048 0.872887C7.8569 0.695838 7.72501 0.545925 7.55994 0.440458 7.39272 0.333623 7.19843 0.276855 7 0.276855Z"
                  clipRule="evenodd"
                  strokeWidth="1"
                ></path>
              </g>
            </svg>
            {rating}
          </span>
          <span className="views">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 48 48"
              id="Eye--Streamline-Ionic-Filled"
            >
              <desc>Eye Streamline Icon: https://streamlinehq.com</desc>
              <path
                fill="currentColor"
                d="M23.9932 29.9982c3.3132 0 5.9991 -2.6859 5.9991 -5.9991S27.3064 18 23.9932 18s-5.9991 2.6859 -5.9991 5.9991 2.6859 5.9991 5.9991 5.9991Z"
                strokeWidth="1"
              ></path>
              <path
                fill="currentColor"
                d="M46.0107 22.3686c-2.4806 -3.8362 -5.699 -7.0949 -9.3065 -9.4246C32.7133 10.364 28.3071 9 23.9628 9c-3.9862 0 -7.9058 1.139 -11.6501 3.3853 -3.81838 2.2902 -7.27771 5.6361 -10.28236 9.9439 -0.33919 0.4868 -0.526 1.0636 -0.53669 1.6568 -0.01068 0.5933 0.15525 1.1763 0.47669 1.675 2.47591 3.8747 5.66243 7.1381 9.21356 9.4358 3.9984 2.5903 8.3015 3.9028 12.7789 3.9028 4.379 0 8.7946 -1.3528 12.7686 -3.9112 3.6056 -2.3222 6.8174 -5.5931 9.2886 -9.4611 0.3104 -0.4871 0.4745 -1.0531 0.4729 -1.6308 -0.0017 -0.5776 -0.169 -1.1426 -0.4822 -1.6279Zm-22.016 10.6311c-1.78 0 -3.52 -0.5278 -5 -1.5168 -1.48 -0.9889 -2.6336 -2.3945 -3.3148 -4.039 -0.6811 -1.6445 -0.8594 -3.454 -0.5121 -5.1999 0.3472 -1.7458 1.2044 -3.3494 2.463 -4.6081 1.2587 -1.2586 2.8624 -2.1158 4.6082 -2.463 1.7458 -0.3474 3.5553 -0.169 5.1998 0.5121 1.6446 0.6812 3.0502 1.8347 4.0391 3.3147 0.9889 1.48 1.5167 3.2201 1.5167 5.0001 -0.0027 2.3861 -0.9518 4.6737 -2.639 6.3609 -1.6872 1.6871 -3.9748 2.6363 -6.3609 2.639Z"
                strokeWidth="1"
              ></path>
            </svg>
            {views}
          </span>
        </div>
      </div>
    </div>
  );
}
